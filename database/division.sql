DROP TABLE IF EXISTS "erp"."division";

CREATE TABLE "erp"."division" (
	abbr		varchar( 10 ) UNIQUE NOT NULL,
	caption		varchar( 128 ) NOT NULL,
	superior	varchar( 10 ) REFERENCES "erp"."division"( abbr ) ON UPDATE CASCADE ON DELETE SET NULL,
	chief		int REFERENCES "common"."people"( id ) ON DELETE SET NULL
);


INSERT INTO "erp"."division" ( abbr, caption ) VALUES 
('ГД', 'Генеральный директор'),
('СГД', 'Советник генерального директора'),
('ПГД', 'Помощник генерального директора (г.Москва)'),
('ИД', 'Исполнительный директор'),
('ДИПКК', 'Директор по инфоормационной политике и корпоративным коммуникациям'),
('ДСОСП', 'Директор по связям с общественностью и социальным программам'),
('ВССОСП', 'Ведущий специалист по связям с общественностью и социальным программам'),
('ВССПС', 'Ведущий специалист по социальным программам и стандартизации'),
('ИСР', 'Инженер по специальной работе'),
('СМРиГО', 'Специалист по мобилизационной работе и гражданской обороне'),
('СУАБ', 'Служба управления авиационной безопасностью'),
('ПРЕДМУРМ', 'Представительство в г. Мурманске'),
('ООД', 'Отдел обработки документации'),
('ЮС', 'Юридическая служба'),
('ЮрО', 'Юридический отдел'),
('ИБП', 'Инспекция по обеспечению безопасности полетов'),
('ОРПИ', 'Отдел по расшифровке и анализу полётной информации'),
('ЛК', 'Лётный комплекс'),
('АЭ1', 'Авиационная эскадрилья №1'),
('АЭ2', 'Авиационная эскадрилья №2'),
('АЭ3', 'Авиационная эскадрилья №3'),
('ОПЭ', 'Отдел планирования экипажей'),
('СБП', 'Служба бортпроводников'),
('САИ', 'Служба аэронавигационной информации'),
('СЛС', 'Служба лётных стандартов'),
('ОЛМО', 'Отдел лётно-методического обеспечения'),
('ОЛТЭ', 'Отдел лётно-технической эксплуатации'),
('ОНЛД', 'Отдел нормативно-лётной документации'),
('ГПО', 'Группа предполётного обслуживания'),
('КД', 'Коммерческий директор'),
('ДПМ', 'Департамент по продажам и маркетингу'),
('ОЧР', 'Отдел организации чартерных рейсов'),
('ОЭП', 'Отдел электронных продаж'),
('ОРСП', 'Отдел региональной сети продаж'),
('ОАП', 'Отдел агентских продаж'),
('ОКП', 'Отдел корпоративных продаж'),
('ОППР', 'Отдел поддержки продаж'),
('ОУД', 'Отдел управления доходами'),
('ОПМ', 'Отдел планирования сети маршрутов'),
('ОТ', 'Отдел управления тарифами'),
('СП', 'Служба представительств'),
('СМ', 'Служба маркетинга'),
('ОФП', 'Отдел формирования продукта'),
('СГП', 'Служба грузовых перевозок'),
('ОПГП', 'Отдел продаж грузовых перевозок'),
('ОУЗР', 'Отдел управления коммерческой загрузки рейсов'),
('РСМ', 'Руководитель сети маршрутов'),
('ЗГДИАО', 'Заместитель генерального директора по инженерно-авиационному обеспечению - технический директор'),
('ТК', 'Технический комплекс'),
('ОУК', 'Отдел управления качеством'),
('ОУПВС', 'Отдел управления парком  воздушных судов'),
('ГППЛ', 'Группа производственного планирования'),
('ОТМ', 'Отдел технического маркетинга'),
('АТБ', 'Авиационно-техническая база'),
('БПРМЛ', 'Базовая поверочно-ремонтная метрологическая лаборатория'),
('ПДГ', 'Производственно-диспетчерская группа'),
('ОТК', 'Отдел технического контроля'),
('ТО', 'Технический отдел'),
('ГЛП', 'Группа лабораторных проверок АиРЭО'),
('ЛТД', 'Лаборатория технической диагностики и неразрушающего контроля'),
('ГППР', 'Группа подготовки производства'),
('ГНОБ', 'Группа наземного обеспечения'),
('ГТР', 'Группа текущего ремонта авиационной техники'),
('ЦТО', 'Цех технического обслуживания воздушных судов'),
('СМУН', 'Линейная станция технического обслуживания ВС в г.Мурманске'),
('ОППЛ', 'Отдел производственного планирования'),
('ОМТО', 'Отдел материально-технического обеспечения'),
('ГЛ', 'Группа логистики'),
('ГТО', 'Группа таможенного оформления'),
('ГОЗЧ', 'Группа обеспечения запасными частями'),
('ЗГДЭФ', 'Заместитель генерального директора по экономике и финансам-главный бухгалтер'),
('СБНУ', 'Служба бухгалтерского и налогового учёта'),
('ОНУ', 'Отдел налогового учёта'),
('ОБУ', 'Отдел бухгалтерского учёта'),
('БУФРиО', 'Бюро учёта финансов, расчётов и отчётности'),
('БУМЦ', 'Бюро учёта материальных ценностей'),
('БРЗП', 'Бюро расчётов по заработной плате'),
('БВР', 'Бюро взаиморасчётов'),
('ДЭФ', 'Департамент экономики и финансов'),
('ОЭПА', 'Отдел экономики, планирования и анализа'),
('ОФ', 'Отдел финансов'),
('ОКО', 'Отдел казначейских операций'),
('ЦР', 'Центр расчетов'),
('ОКРР', 'Отдел контроля расходов рейсов'),
('ОКПА', 'Отдел контроля продажи авиаперевозок'),
('ОРДИ', 'Отдел расчетов по договорам Интерлайна'),
('ОРУД', 'Отдел расчета и учета доходов'),
('ОКСП', 'Отдел контроля собственных продаж авиаперевозок'),
('ЗГДООП', 'Заместитель генерального директора по организации и обеспечению перевозок'),
('ОГСМ', 'Отдел снабжения горюче-смазочными материалами'),
('ООСП', 'Отдел организации сервиса пассажиров'),
('ПРЕДХИМКИ', 'Представительство в г.Химки'),
('ОНОПХИМКИ', 'Отдел наземного обеспечения перевозок г. Химки'),
('ЦУП', 'Центр управления полетами'),
('ООП', 'Отдел обеспечения полётов'),
('ООУП', 'Отдел оперативного управления полётами'),
('КС', 'Комплекс сервиса'),
('КНОП', 'Комплекс по наземному обеспечению перевозок'),
('ОНОПСЫК', 'Отдел наземного обеспечения перевозок г. Сыктывкар'),
('ОНОПСПБ', 'Отдел наземного обеспечения перевозок г. Санкт-Петербург'),
('ОНОПАРХ', 'Отдел наземного обеспечения перевозок г. Архангельск'),
('ООНО', 'Отдел организации наземного обслуживания'),
('ГНОЛ', 'Группа наземного обслуживания'),
('DCS', 'Группа DCS'),
('ЗГДК', 'Заместитель генерального директора по качеству'),
('ВРАЧ', 'Врач авиакомпании'),
('СГО', 'Специалист по гражданской обороне'),
('ОКЧ', 'Отдел качества'),
('АХС', 'Административно-хозяйственная служба'),
('АХО', 'Административно-хозяйственный отдел'),
('ОЭО', 'Отдел электрообеспечения'),
('ОТВО', 'Отдел тепловодообеспечения'),
('УТО', 'Участок транспортного обеспечения'),
('ДИТ', 'Департамент информационных технологий и связи'),
('СПТО', 'Служба программного и технологического обеспечения'),
('ОУС', 'Отдел эксплуатации управленческих систем'),
('ОПС', 'Отдел эксплуатации производственных систем'),
('ОУФС', 'Отдел эксплуатации учетно-финансовых систем'),
('ОИТ', 'Отдел интернет-технологий'),
('ССИТ', 'Служба сопровождения информационных технологий'),
('ОЭПК', 'Отдел эксплуатации персональных компьютеров и оргтехники'),
('ОАС', 'Отдел администрирования серверов и защиты информации'),
('СЗ', 'Служба связи'),
('ДУТП', 'Департамент управления трудом и персоналом'),
('ООXТ', 'Отдел охраны труда'),
('ООГТ', 'Отдел организации труда'),
('ОКД', 'Отдел кадров');

DROP TABLE IF EXISTS "erp"."employee";

CREATE TABLE "erp"."employee" (
	division_abbr	varchar( 10 ) REFERENCES "erp"."division"( abbr ) ON UPDATE CASCADE ON DELETE SET NULL,
	people_id		int NOT NULL REFERENCES "common"."people"( id ),
	post_id			int REFERENCES "erp"."post"( id ),
	UNIQUE ( division_abbr, people_id )
);

